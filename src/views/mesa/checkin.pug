extends ../layouts/main

block content
  div(class="max-w-4xl mx-auto")
    div(class="mb-8")
      a(href="/mesa-entrada" class="text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-white flex items-center gap-2 mb-4") 
        span ‚Üê Volver al Tablero
      h1(class="text-3xl font-bold dark:text-white") Recepci√≥n de Paciente

    // --- 1. BUSCADOR (Siempre visible) ---
    div(class="bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 mb-8")
      form(action="/mesa-entrada/nuevo" method="GET" class="flex gap-4 items-end")
        div(class="flex-1")
          label(class="block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2") Buscar por DNI
          input(type="text" name="dni" placeholder="Ingrese DNI..." value=dniBuscado class="w-full px-4 py-3 rounded-xl border border-slate-300 dark:bg-slate-900 dark:border-slate-600 dark:text-white text-lg font-bold tracking-wider" required)
        button(type="submit" class="bg-indigo-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-indigo-700 h-[52px]") üîç Buscar

    // --- 2. ESCENARIO A: PACIENTE ENCONTRADO ---
    if paciente
      div(class="bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 p-6 rounded-2xl mb-6 flex items-center gap-4 animate-fade-in")
        div(class="w-12 h-12 rounded-full bg-green-100 text-green-600 flex items-center justify-center text-xl font-bold") ‚úì
        div
          h2(class="text-lg font-bold text-green-800 dark:text-green-300") Paciente Identificado
          p(class="text-green-700 dark:text-green-400") #{paciente.nombre} #{paciente.apellido} - DNI: #{paciente.dni}