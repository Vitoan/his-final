extends ../layouts/main

block content
  // Contenedor centrado con estilo tarjeta
  div(class="max-w-lg mx-auto bg-white dark:bg-slate-800 p-8 md:p-10 rounded-[2rem] shadow-xl border border-slate-200 dark:border-slate-700 mt-6 relative overflow-hidden")
    
    // Decoraci√≥n de fondo sutil (opcional)
    div(class="absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-blue-500/10 dark:bg-rose-500/10 rounded-full blur-2xl")
    
    // Encabezado
    div(class="text-center mb-8 relative z-10")
      div(class="inline-flex items-center justify-center w-12 h-12 rounded-2xl bg-slate-100 dark:bg-slate-700 text-2xl mb-4 border border-slate-200 dark:border-slate-600") üë§
      h2(class="text-2xl font-bold text-slate-900 dark:text-white") Registrar Personal
      p(class="text-sm text-slate-500 dark:text-slate-400 mt-1") Crea un nuevo acceso para el sistema

    // Alerta de Error
    if error
      div(class="bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-300 p-4 rounded-xl mb-6 text-sm flex items-center shadow-sm")
         span(class="mr-2 text-lg") ‚ö†Ô∏è
         | #{error}

    // Formulario
    form(action="/admin/usuarios/guardar" method="POST" class="space-y-5 relative z-10")
      
      // Nombre
      div
        label(class="block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2") Nombre Completo
        input(type="text" name="nombre" required value=(data ? data.nombre : '') placeholder="Ej: Dr. Gregory House" class="w-full px-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-300 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-blue-500 dark:focus:ring-rose-500 focus:border-transparent outline-none transition-all dark:text-white shadow-sm")

      // Email
      div
        label(class="block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2") Correo Electr√≥nico
        input(type="email" name="email" required value=(data ? data.email : '') placeholder="usuario@his.com" class="w-full px-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-300 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-blue-500 dark:focus:ring-rose-500 focus:border-transparent outline-none transition-all dark:text-white shadow-sm")

      // Contrase√±a
      div
        label(class="block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2") Contrase√±a
        input(type="password" name="password" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" class="w-full px-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-300 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-blue-500 dark:focus:ring-rose-500 focus:border-transparent outline-none transition-all dark:text-white shadow-sm")

      // Rol
      div
        label(class="block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2") Rol / Cargo
        div(class="relative")
          select(name="rol" class="w-full px-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-300 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-blue-500 dark:focus:ring-rose-500 focus:border-transparent outline-none transition-all dark:text-white appearance-none shadow-sm cursor-pointer")
            option(value="Medico") üë®‚Äç‚öïÔ∏è M√©dico
            option(value="Enfermeria") ü©∫ Enfermer√≠a
            option(value="Admision") üìã Personal de Admisi√≥n
            option(value="Admin") üîê Administrador
          
          // Flechita custom para el select
          div(class="absolute inset-y-0 right-0 flex items-center px-4 pointer-events-none text-slate-500")
            svg(class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24")
               path(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7")

      // Botones de Acci√≥n
      div(class="pt-6 flex items-center justify-between gap-4")
        a(href="/admin/usuarios" class="px-6 py-3 rounded-xl border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 font-bold transition-colors text-sm") 
           | Cancelar
        
        button(type="submit" class="flex-1 bg-slate-900 dark:bg-white text-white dark:text-slate-900 px-6 py-3 rounded-xl hover:bg-slate-800 dark:hover:bg-slate-200 font-bold shadow-lg shadow-slate-500/20 transition-all transform active:scale-95 text-sm") 
           | Crear Usuario